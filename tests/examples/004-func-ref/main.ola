func printLn(str:String) -> Unit
{
  print(str)
; print(toString('\n'))

}

func foo(a : <left:String|right:Int>) -> &String
{
  var x : String = "Hello World"
; printLn(!x)

; local s = match a
          {
            when left(s)
            {
             s
            }
            when right(i)
            {
              "Given an int"
            }
          }

; mut(x,s)

; x
}

main()
{

  local bar : <left:String|right:Int> = tag[left]("AA")
; printLn(!foo(bar))
; local bar : <left:String|right:Int> = tag[right](1)
; printLn(!foo(bar))

}
