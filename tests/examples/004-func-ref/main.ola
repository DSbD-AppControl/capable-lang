func printLn(str:String) -> Unit
{
  print(str)
; print(toString('\n'))

}

type either = union { left : String; right : Int }

func foo(a : either) -> &String
{
  var x : String = "Hello World"
; printLn(!x)

; local s = match a
          {
            when left(s)
            {
             s
            }
            when right(i)
            {
              "Given an int"
            }
          }

; mut(x,s)

; x
}

main()
{
  local bar : either = tag[left]("AA")
; printLn(!foo(bar))
; local bar : union { left : String; right : Int } = tag[right](1)
; printLn(!foo(bar))

}
