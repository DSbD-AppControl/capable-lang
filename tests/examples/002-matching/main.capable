func printLn(str:String) -> Unit
{
  print(str)
; print(toString('\n'))

}

type uo = union { urgh:String; oops:Int}

func extract(x : uo ) -> String
{
  match x
  {
    when urgh(s)
    {
      s
    }
    when oops(i)
    {
      "Hello!"
    }
  }
}

main()
{
  local foo : union { urgh:String ; oops:Int } = tag[urgh]("Ola")
; printLn(extract(foo))

; local foo : union { urgh:String ; oops:Int } = urgh("Ola") -- works because of binding on L8
; printLn(extract(foo))
}
