role Pinger
role Ponger

type ping = union { ping : Int }
type pong = union { pong : Int }

protocol handshake
  = Pinger ==> Ponger [ping] { ping(Int)
  . Ponger ==> Pinger [pong] { pong(Int)
  . end
  }}

type pongR = union { pong : Int ; pongEnd : Int }

protocol handshakeRec
  = rec(X)
  . Pinger ==> Ponger [ping]  { ping(Int)
  . Ponger ==> Pinger [pongR] { pong(Int).end | pongEnd(Int).call(X)
  }}

main()
{
  print("My First Program")
; print(toString('\n'))

}
