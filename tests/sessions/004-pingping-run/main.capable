role Pinger
role Ponger

type msg = union { msg : Int }

protocol handshake
  = Pinger ==> Ponger [msg] { msg(Int)
  . Ponger ==> Pinger [msg] { msg(Int)
  . end
  }}

type pongR = union { stop : Int ; cont : Int }

protocol handshakeRec
  = rec(X)
  . Pinger ==> Ponger [pongR] {
      stop(Int)
      . Ponger ==> Pinger [msg] { msg(Int).end }
    | cont(Int)
      . Ponger ==> Pinger [msg] { msg(Int).call(X) }
  }

main()
{
  print("My First Program")
; print(toString('\n'))

}
